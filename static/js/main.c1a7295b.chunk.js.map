{"version":3,"sources":["app/utils/firebase.ts","app/room/Room.tsx","app/remote/remote.tsx","app/remote/mock-data.ts","app/remote/remote-song.tsx","app/remote/remote-search.tsx","app/App.tsx","reportWebVitals.ts","index.tsx"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","removeFirstSong","songs","length","firestore","collection","doc","id","delete","then","console","log","Room","useState","ytPlayer","setYtPlayer","activeSongs","setActiveSongs","currentSong","setCurrentSong","songState","setSongState","firstSongStarted","setFirstSongStarted","useEffect","tag","document","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","window","e","Player","videoId","events","onReady","target","playVideo","onStateChange","data","unsubscribeFirebase","onSnapshot","snapshot","newActiveSongs","docs","map","video","firstNewSong","loadVideoById","className","tabIndex","onClick","Remote","to","MOCK_SEARCH_RESULT","thumbnail","thumbnails","url","width","height","title","runs","text","accessibility","accessibilityData","label","RemoteSong","props","isAdded","setIsAdded","videoTitle","alt","add","RemoteSearch","query","setQuery","searchResults","setSearchResults","onSearch","useCallback","a","axios","get","params","type","placeholder","value","onChange","event","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c1a7295b.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAZ3DKq0vI256yimaad4iUp0uML33m07Yo\",\n  authDomain: \"loatr-tech-ktv.firebaseapp.com\",\n  projectId: \"loatr-tech-ktv\",\n  storageBucket: \"loatr-tech-ktv.appspot.com\",\n  messagingSenderId: \"580571065570\",\n  appId: \"1:580571065570:web:a0f122923e4800aa2742bb\",\n  measurementId: \"G-XQY5SYQYEV\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;","import React, { useEffect, useState } from 'react';\nimport firebase from '../utils/firebase';\nimport './Room.scss';\ndeclare var window: any;\n\nconst removeFirstSong = (songs: any[]) => {\n  if (songs.length) {\n    firebase\n      .firestore()\n      .collection('rooms')\n      .doc('kcuRCauZPqfaoLCLcjDP')\n      .collection('songs')\n      .doc(songs[0].id)\n      .delete()\n      .then(() => {\n        console.log('song removed!');\n      });\n  }\n}\n\nfunction Room() {\n  const [ytPlayer, setYtPlayer] = useState<any>();\n  const [activeSongs, setActiveSongs] = useState<any[]>([]);\n  const [currentSong, setCurrentSong] = useState<any>();\n  const [songState, setSongState] = useState();\n  const [firstSongStarted, setFirstSongStarted] = useState(false);\n\n  const playVideo = () => {\n    ytPlayer.playVideo();\n  }\n\n  const nextSong = () => {\n    if (activeSongs.length) {\n      if (activeSongs.length > 1) {\n        ytPlayer.loadVideoById(activeSongs[1].videoId);\n      } else {\n        ytPlayer.loadVideoById('BHACKCNDMW8');\n        setFirstSongStarted(false);\n      }\n      removeFirstSong(activeSongs);\n    }\n  }\n\n  useEffect(() => {\n    // Go to next song if current song/video ended\n    if (songState === 0) {\n      removeFirstSong(activeSongs);\n    }\n  }, [songState, activeSongs]);\n\n  useEffect(() => {\n    // Load Youtube iframe API\n    const tag = document.createElement('script');\n    tag.id = 'youtube-iframe-api';\n    tag.src = 'https://www.youtube.com/iframe_api';\n    const firstScriptTag = document.getElementsByTagName('script')[0];\n    // @ts-ignore: Object is possibly 'null'.\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n    window['onYouTubeIframeAPIReady'] = (e: any) => {\n      new window['YT'].Player('ktv-youtube-iframe', {\n        videoId: 'BHACKCNDMW8',\n        events: {\n          onReady: (e: any) => {\n            e.target.playVideo();\n            setYtPlayer(e.target);\n          },\n          onStateChange: ({ data }: any) => {\n            setSongState(data);\n          },\n        },\n      });\n    };\n  }, []);\n\n  useEffect(() => {\n    const unsubscribeFirebase = firebase\n      .firestore()\n      .collection('rooms')\n      .doc('kcuRCauZPqfaoLCLcjDP')\n      .collection('songs')\n      .onSnapshot((snapshot) => {\n        const newActiveSongs = snapshot.docs.map((video: any) => {\n          return {\n            id: video.id,\n            ...video.data(),\n          };\n        });\n\n        setActiveSongs(newActiveSongs);\n      });\n\n    return () => unsubscribeFirebase();\n  }, []);\n\n  useEffect(() => {\n    if (!!ytPlayer && activeSongs.length) {\n      const firstNewSong = activeSongs[0];\n      if (currentSong?.videoId !== firstNewSong.videoId) {\n        ytPlayer.loadVideoById(firstNewSong.videoId);\n        setCurrentSong(firstNewSong);\n        setFirstSongStarted(true);\n      }\n    }\n  }, [ytPlayer, activeSongs, firstSongStarted, currentSong]);\n\n  return (\n    <div className=\"room-container\">\n      <section className=\"room-iframe-wrapper\">\n        <div className=\"room-iframe-container\">\n          <div\n            id=\"ktv-youtube-iframe\"\n            className=\"room-iframe\"\n            tabIndex={-1}\n          ></div>\n        </div>\n      </section>\n\n      <section>\n        <button onClick={() => playVideo()}>Play</button>\n        <button onClick={() => nextSong()}>Skip</button>\n      </section>\n    </div>\n  );\n}\n\nexport default Room;\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport './remote.scss';\n\nfunction Remote() {\n  return (\n    <div className=\"remote-container\">\n      <section className=\"remote-links\">\n        <Link\n          to=\"/playing\"\n          className=\"btn btn-lg btn-outline-secondary\"\n        >\n          正在播放 <span className=\"badge\">4</span>\n        </Link>\n        <Link\n          to=\"/remote/search\"\n          className=\"btn btn-lg btn-outline-secondary\"\n        >\n          点歌\n        </Link>\n      </section>\n\n      <section className=\"remote-actions\">\n        <button className=\"btn btn-lg btn-outline-secondary\">\n          切歌\n        </button>\n      </section>\n    </div>\n  );\n}\n\nexport default Remote;\n","export const MOCK_SEARCH_RESULT = [\n  {\n    videoId: 'Ep0-h-rGHRk',\n    thumbnail: {\n      thumbnails: [\n        {\n          url:\n            'https://i.ytimg.com/vi/Ep0-h-rGHRk/hqdefault.jpg?sqp=-oaymwEjCOADEI4CSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAa2nPtMAI7EwiV5YiYY2YC-xBImg',\n          width: 480,\n          height: 270,\n        },\n      ],\n    },\n    title: {\n      runs: [{ text: 'Lady Gaga - Bad Romance (Karaoke Version)' }],\n      accessibility: {\n        accessibilityData: {\n          label:\n            'Lady Gaga - Bad Romance (Karaoke Version) by Sing King 3 years ago 5 minutes, 22 seconds 7,513,785 views',\n        },\n      },\n    },\n  },\n  {\n    videoId: 'Z7sHRNNElDE',\n    thumbnail: {\n      thumbnails: [\n        {\n          url:\n            'https://i.ytimg.com/vi/Z7sHRNNElDE/hq720.jpg?sqp=-oaymwEjCOgCEMoBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAyLKKuNnrfPYL5-BageF2YM-eplg',\n          width: 360,\n          height: 202,\n        },\n        {\n          url:\n            'https://i.ytimg.com/vi/Z7sHRNNElDE/hq720.jpg?sqp=-oaymwEXCNAFEJQDSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLDTmr-F1N9ULshS4HRQ-9F79dcT-Q',\n          width: 720,\n          height: 404,\n        },\n      ],\n    },\n    title: {\n      runs: [{ text: 'Lady Gaga - Bad Romance (Karaoke Version)' }],\n      accessibility: {\n        accessibilityData: {\n          label:\n            'Lady Gaga - Bad Romance (Karaoke Version) by PARTY TYME KARAOKE CHANNEL 2 years ago 5 minutes, 29 seconds 77,400 views',\n        },\n      },\n    },\n  },\n  {\n    videoId: 'pyp2fnjiegU',\n    thumbnail: {\n      thumbnails: [\n        {\n          url:\n            'https://i.ytimg.com/vi/pyp2fnjiegU/hq720.jpg?sqp=-oaymwEjCOgCEMoBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC6x78EB-v1Ix_mE-CEWEKE5_ymWw',\n          width: 360,\n          height: 202,\n        },\n        {\n          url:\n            'https://i.ytimg.com/vi/pyp2fnjiegU/hq720.jpg?sqp=-oaymwEXCNAFEJQDSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBkxUYoJoH7BaSVf7H-Irwtm-tncA',\n          width: 720,\n          height: 404,\n        },\n      ],\n    },\n    title: {\n      runs: [\n        {\n          text:\n            'Bad Romance in the Style of \"Lady Gaga\" karaoke video with lyrics (no lead vocal)',\n        },\n      ],\n      accessibility: {\n        accessibilityData: {\n          label:\n            'Bad Romance in the Style of \"Lady Gaga\" karaoke video with lyrics (no lead vocal) by Stingray Karaoke 9 years ago 5 minutes, 11 seconds 2,918,058 views',\n        },\n      },\n    },\n  },\n  {\n    videoId: 's3U6LFtevgs',\n    thumbnail: {\n      thumbnails: [\n        {\n          url:\n            'https://i.ytimg.com/vi/s3U6LFtevgs/hq720.jpg?sqp=-oaymwEjCOgCEMoBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCAub4h5Laqe64pxPFvYHxaHyTsxw',\n          width: 360,\n          height: 202,\n        },\n        {\n          url:\n            'https://i.ytimg.com/vi/s3U6LFtevgs/hq720.jpg?sqp=-oaymwEXCNAFEJQDSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLDjqh7Vnq7eWwmGAvBU2LRQ1dWBIg',\n          width: 720,\n          height: 404,\n        },\n      ],\n    },\n    title: {\n      runs: [{ text: 'Bad Romance - Lady Gaga | Karaoke Version | KaraFun' }],\n      accessibility: {\n        accessibilityData: {\n          label:\n            'Bad Romance - Lady Gaga | Karaoke Version | KaraFun by KaraFun Karaoke 5 years ago 4 minutes, 33 seconds 146,236 views',\n        },\n      },\n    },\n  },\n  {\n    videoId: 'qrO4YZeyl0I',\n    thumbnail: {\n      thumbnails: [\n        {\n          url:\n            'https://i.ytimg.com/vi/qrO4YZeyl0I/hq720.jpg?sqp=-oaymwEjCOgCEMoBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAIeki9tladDIVX8yq_Pnkb6NXn4g',\n          width: 360,\n          height: 202,\n        },\n        {\n          url:\n            'https://i.ytimg.com/vi/qrO4YZeyl0I/hq720.jpg?sqp=-oaymwEXCNAFEJQDSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLCF3wCGpTcEKpO0klX2c5Ey6ycl2w',\n          width: 720,\n          height: 404,\n        },\n      ],\n    },\n    title: {\n      runs: [{ text: 'Lady Gaga - Bad Romance (Official Music Video)' }],\n      accessibility: {\n        accessibilityData: {\n          label:\n            'Lady Gaga - Bad Romance (Official Music Video) by Lady Gaga 11 years ago 5 minutes, 9 seconds 1,386,070,400 views',\n        },\n      },\n    },\n  },\n];\n","import React, { useState } from 'react';\nimport firebase from '../utils/firebase';\nimport './remote-song.scss';\n\nfunction RemoteSong(props: any) {\n  const [isAdded, setIsAdded] = useState(false);\n  const { video } = props;\n  const { thumbnails } = video.thumbnail;\n  const [{ text: videoTitle }] = video.title.runs;\n\n  function onAddSong() {\n    firebase\n      .firestore()\n      .collection('rooms')\n      .doc('kcuRCauZPqfaoLCLcjDP')\n      .collection('songs')\n      .add(video)\n      .then(() => {\n        setIsAdded(true);\n      })\n  }\n\n  return (\n    <div className=\"remote-song\">\n      <section className=\"remote-song-header\">{videoTitle}</section>\n      <section className=\"remote-song-body\">\n        <img\n          className=\"remote-song-image\"\n          src={thumbnails[thumbnails.length - 1].url}\n          alt={videoTitle}\n        />\n        <div className=\"remote-song-actions\">\n          {\n            isAdded ? <span>已添加</span> :\n            <>\n              <button\n                className=\"btn btn-secondary\"\n                onClick={() => onAddSong()}>\n                添加\n              </button>\n              <button className=\"btn btn-secondary\">置顶</button>\n            </>\n          }\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default RemoteSong;\n","import React, { useCallback, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport './remote-search.scss';\nimport axios from 'axios';\nimport { MOCK_SEARCH_RESULT } from './mock-data';\nimport RemoteSong from './remote-song';\n\nfunction RemoteSearch() {\n  const [query, setQuery] = useState<string>('');\n  const [searchResults, setSearchResults] = useState<any[]>(MOCK_SEARCH_RESULT);\n  const onSearch = useCallback(async () => {\n    if (query) {\n      const { data } = await axios.get(`http://localhost:8080/ktv/search`, {\n        params: { query }\n      });\n      setSearchResults(data);\n    }\n  }, [query]);\n\n  return <>\n    <header className=\"remote-search-header\">\n      <Link to=\"/remote\" className=\"btn btn-light\">返回</Link>\n      <Link to=\"/playing\" className=\"btn btn-primary\">\n        正在播放 <span className=\"badge\">4</span>\n      </Link>\n    </header>\n    <div className=\"container\">\n      <div className=\"input-group remote-search-box\">\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Search song\"\n          value={query}\n          onChange={(event: any) => setQuery(event.target.value)}\n        />\n        <button\n          className=\"btn btn-outline-success\"\n          type=\"button\"\n          onClick={onSearch}\n        >Search</button>\n      </div>\n\n      <section>\n        {searchResults.map(video => <RemoteSong video={video} key={video.videoId}/>)}\n      </section>\n    </div>\n  </>\n}\n\nexport default RemoteSearch;\n","import React from 'react';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport './App.scss';\nimport Room from './room/Room';\nimport Remote from './remote/remote';\nimport RemoteSearch from './remote/remote-search';\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Switch>\n        <Route exact path=\"/\">\n          Homepage of ktv\n        </Route>\n        <Route path=\"/room\" component={Room} />\n        <Route path=\"/remote\" exact component={Remote} />\n        <Route path=\"/remote/search\" component={RemoteSearch} />\n      </Switch>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport 'jquery/dist/jquery.min.js'\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js'\nimport App from './app/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}