(this.webpackJsonpktv=this.webpackJsonpktv||[]).push([[0],{45:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},58:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(36),s=a.n(i),o=(a(45),a(46),a(47),a(14)),r=a(4),l=(a(49),a(40)),d=a(12),b=a(22);a(78);b.a.initializeApp({apiKey:"AIzaSyAZ3DKq0vI256yimaad4iUp0uML33m07Yo",authDomain:"loatr-tech-ktv.firebaseapp.com",projectId:"loatr-tech-ktv",storageBucket:"loatr-tech-ktv.appspot.com",messagingSenderId:"580571065570",appId:"1:580571065570:web:a0f122923e4800aa2742bb",measurementId:"G-XQY5SYQYEV"});var m=b.a,u=(a(50),a(2)),h=function(e){e.length&&m.firestore().collection("rooms").doc("kcuRCauZPqfaoLCLcjDP").collection("songs").doc(e[0].id).delete().then((function(){console.log("song removed!")}))};var j=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),s=Object(d.a)(i,2),o=s[0],r=s[1],b=Object(n.useState)(),j=Object(d.a)(b,2),g=j[0],A=j[1],y=Object(n.useState)(),p=Object(d.a)(y,2),O=p[0],v=p[1],f=Object(n.useState)(!1),x=Object(d.a)(f,2),E=x[0],C=x[1];return Object(n.useEffect)((function(){0===O&&h(o)}),[O,o]),Object(n.useEffect)((function(){var e=document.createElement("script");e.id="youtube-iframe-api",e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=function(e){new window.YT.Player("ktv-youtube-iframe",{videoId:"BHACKCNDMW8",events:{onReady:function(e){e.target.playVideo(),c(e.target)},onStateChange:function(e){var t=e.data;v(t)}}})}}),[]),Object(n.useEffect)((function(){var e=m.firestore().collection("rooms").doc("kcuRCauZPqfaoLCLcjDP").collection("songs").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),Object(n.useEffect)((function(){if(a&&o.length){var e=o[0];(null===g||void 0===g?void 0:g.videoId)!==e.videoId&&(a.loadVideoById(e.videoId),A(e),C(!0))}}),[a,o,E,g]),Object(u.jsxs)("div",{className:"room-container",children:[Object(u.jsx)("section",{className:"room-iframe-wrapper",children:Object(u.jsx)("div",{className:"room-iframe-container",children:Object(u.jsx)("div",{id:"ktv-youtube-iframe",className:"room-iframe",tabIndex:-1})})}),Object(u.jsxs)("section",{children:[Object(u.jsx)("button",{onClick:function(){a.playVideo()},children:"Play"}),Object(u.jsx)("button",{onClick:function(){o.length&&(o.length>1?a.loadVideoById(o[1].videoId):(a.loadVideoById("BHACKCNDMW8"),C(!1)),h(o))},children:"Skip"})]})]})};a(52);var g=function(){return Object(u.jsxs)("div",{className:"remote-container",children:[Object(u.jsxs)("section",{className:"remote-links",children:[Object(u.jsxs)(o.b,{to:"/playing",className:"btn btn-lg btn-outline-secondary",children:["\u6b63\u5728\u64ad\u653e ",Object(u.jsx)("span",{className:"badge",children:"4"})]}),Object(u.jsx)(o.b,{to:"/remote/search",className:"btn btn-lg btn-outline-secondary",children:"\u70b9\u6b4c"})]}),Object(u.jsx)("section",{className:"remote-actions",children:Object(u.jsx)("button",{className:"btn btn-lg btn-outline-secondary",children:"\u5207\u6b4c"})})]})},A=a(25),y=a.n(A),p=a(38),O=(a(58),a(39)),v=a.n(O),f=[{videoId:"Ep0-h-rGHRk",thumbnail:{thumbnails:[{url:"https://i.ytimg.com/vi/Ep0-h-rGHRk/hqdefault.jpg?sqp=-oaymwEjCOADEI4CSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAa2nPtMAI7EwiV5YiYY2YC-xBImg",width:480,height:270}]},title:{runs:[{text:"Lady Gaga - Bad Romance (Karaoke Version)"}],accessibility:{accessibilityData:{label:"Lady Gaga - Bad Romance (Karaoke Version) by Sing King 3 years ago 5 minutes, 22 seconds 7,513,785 views"}}}},{videoId:"Z7sHRNNElDE",thumbnail:{thumbnails:[{url:"https://i.ytimg.com/vi/Z7sHRNNElDE/hq720.jpg?sqp=-oaymwEjCOgCEMoBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAyLKKuNnrfPYL5-BageF2YM-eplg",width:360,height:202},{url:"https://i.ytimg.com/vi/Z7sHRNNElDE/hq720.jpg?sqp=-oaymwEXCNAFEJQDSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLDTmr-F1N9ULshS4HRQ-9F79dcT-Q",width:720,height:404}]},title:{runs:[{text:"Lady Gaga - Bad Romance (Karaoke Version)"}],accessibility:{accessibilityData:{label:"Lady Gaga - Bad Romance (Karaoke Version) by PARTY TYME KARAOKE CHANNEL 2 years ago 5 minutes, 29 seconds 77,400 views"}}}},{videoId:"pyp2fnjiegU",thumbnail:{thumbnails:[{url:"https://i.ytimg.com/vi/pyp2fnjiegU/hq720.jpg?sqp=-oaymwEjCOgCEMoBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC6x78EB-v1Ix_mE-CEWEKE5_ymWw",width:360,height:202},{url:"https://i.ytimg.com/vi/pyp2fnjiegU/hq720.jpg?sqp=-oaymwEXCNAFEJQDSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBkxUYoJoH7BaSVf7H-Irwtm-tncA",width:720,height:404}]},title:{runs:[{text:'Bad Romance in the Style of "Lady Gaga" karaoke video with lyrics (no lead vocal)'}],accessibility:{accessibilityData:{label:'Bad Romance in the Style of "Lady Gaga" karaoke video with lyrics (no lead vocal) by Stingray Karaoke 9 years ago 5 minutes, 11 seconds 2,918,058 views'}}}},{videoId:"s3U6LFtevgs",thumbnail:{thumbnails:[{url:"https://i.ytimg.com/vi/s3U6LFtevgs/hq720.jpg?sqp=-oaymwEjCOgCEMoBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCAub4h5Laqe64pxPFvYHxaHyTsxw",width:360,height:202},{url:"https://i.ytimg.com/vi/s3U6LFtevgs/hq720.jpg?sqp=-oaymwEXCNAFEJQDSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLDjqh7Vnq7eWwmGAvBU2LRQ1dWBIg",width:720,height:404}]},title:{runs:[{text:"Bad Romance - Lady Gaga | Karaoke Version | KaraFun"}],accessibility:{accessibilityData:{label:"Bad Romance - Lady Gaga | Karaoke Version | KaraFun by KaraFun Karaoke 5 years ago 4 minutes, 33 seconds 146,236 views"}}}},{videoId:"qrO4YZeyl0I",thumbnail:{thumbnails:[{url:"https://i.ytimg.com/vi/qrO4YZeyl0I/hq720.jpg?sqp=-oaymwEjCOgCEMoBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAIeki9tladDIVX8yq_Pnkb6NXn4g",width:360,height:202},{url:"https://i.ytimg.com/vi/qrO4YZeyl0I/hq720.jpg?sqp=-oaymwEXCNAFEJQDSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLCF3wCGpTcEKpO0klX2c5Ey6ycl2w",width:720,height:404}]},title:{runs:[{text:"Lady Gaga - Bad Romance (Official Music Video)"}],accessibility:{accessibilityData:{label:"Lady Gaga - Bad Romance (Official Music Video) by Lady Gaga 11 years ago 5 minutes, 9 seconds 1,386,070,400 views"}}}}];a(76);var x=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],i=a[1],s=e.video,o=s.thumbnail.thumbnails,r=Object(d.a)(s.title.runs,1)[0].text;return Object(u.jsxs)("div",{className:"remote-song",children:[Object(u.jsx)("section",{className:"remote-song-header",children:r}),Object(u.jsxs)("section",{className:"remote-song-body",children:[Object(u.jsx)("img",{className:"remote-song-image",src:o[o.length-1].url,alt:r}),Object(u.jsx)("div",{className:"remote-song-actions",children:c?Object(u.jsx)("span",{children:"\u5df2\u6dfb\u52a0"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"btn btn-secondary",onClick:function(){m.firestore().collection("rooms").doc("kcuRCauZPqfaoLCLcjDP").collection("songs").add(s).then((function(){i(!0)}))},children:"\u6dfb\u52a0"}),Object(u.jsx)("button",{className:"btn btn-secondary",children:"\u7f6e\u9876"})]})})]})]})};var E=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(f),s=Object(d.a)(i,2),r=s[0],l=s[1],b=Object(n.useCallback)(Object(p.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,v.a.get("http://localhost:8080/ktv/search",{params:{query:a}});case 3:t=e.sent,n=t.data,l(n);case 6:case"end":return e.stop()}}),e)}))),[a]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("header",{className:"remote-search-header",children:[Object(u.jsx)(o.b,{to:"/remote",className:"btn btn-light",children:"\u8fd4\u56de"}),Object(u.jsxs)(o.b,{to:"/playing",className:"btn btn-primary",children:["\u6b63\u5728\u64ad\u653e ",Object(u.jsx)("span",{className:"badge",children:"4"})]})]}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"input-group remote-search-box",children:[Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Search song",value:a,onChange:function(e){return c(e.target.value)}}),Object(u.jsx)("button",{className:"btn btn-outline-success",type:"button",onClick:b,children:"Search"})]}),Object(u.jsx)("section",{children:r.map((function(e){return Object(u.jsx)(x,{video:e},e.videoId)}))})]})]})};var C=function(){return Object(u.jsx)(o.a,{children:Object(u.jsxs)(r.c,{children:[Object(u.jsx)(r.a,{exact:!0,path:"/",children:"Homepage of ktv"}),Object(u.jsx)(r.a,{path:"/room",component:j}),Object(u.jsx)(r.a,{path:"/remote",exact:!0,component:g}),Object(u.jsx)(r.a,{path:"/remote/search",component:E})]})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root")),I()}},[[77,1,2]]]);
//# sourceMappingURL=main.d309b81e.chunk.js.map